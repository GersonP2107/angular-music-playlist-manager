<header
    class="bg-black/95 backdrop-blur-md text-white px-3 md:px-6 py-3 md:py-4 fixed top-0 w-full z-50 border-b border-white/5 shadow-lg">
    <div class="max-w-[1800px] mx-auto flex justify-between items-center gap-2">
        <!-- Logo Area -->
        <div class="flex items-center gap-3 group cursor-pointer shrink-0" routerLink="/">
            <div
                class="bg-gradient-to-tr from-green-400 to-green-600 w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center shadow-md group-hover:scale-110 transition-transform">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                    stroke="currentColor" class="w-5 h-5 md:w-6 md:h-6 text-black">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z" />
                </svg>
            </div>
            <h1
                class="text-2xl font-bold tracking-tight hidden lg:block bg-clip-text text-transparent bg-gradient-to-r from-white to-zinc-400">
                Music Manager</h1>
        </div>

        @if (user$ | async; as user) {
        <nav
            class="flex items-center gap-1 md:gap-6 bg-zinc-900/50 p-1 md:p-1.5 rounded-full border border-white/5 backdrop-blur-sm shadow-sm">
            <a routerLink="/" routerLinkActive="bg-zinc-800 text-white shadow-sm"
                [routerLinkActiveOptions]="{exact: true}"
                class="text-zinc-400 hover:text-white px-3 md:px-4 py-2 rounded-full font-medium transition-all text-xs md:text-sm flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2.25l-9.75 7.31L2.25 10.5v11.25H9v-7.5h6v7.5h6.75V10.5l-9.75-7.31z" />
                </svg>
                <span class="hidden md:inline">Inicio</span>
            </a>

            <a routerLink="/search" routerLinkActive="bg-zinc-800 text-white shadow-sm"
                class="text-zinc-400 hover:text-white px-3 md:px-4 py-2 rounded-full font-medium transition-all text-xs md:text-sm flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                    <path fill-rule="evenodd"
                        d="M10.5 3.75a6.75 6.75 0 100 13.5 6.75 6.75 0 000-13.5zM2.25 10.5a8.25 8.25 0 1114.59 5.28l4.69 4.69a.75.75 0 11-1.06 1.06l-4.69-4.69A8.25 8.25 0 012.25 10.5z"
                        clip-rule="evenodd" />
                </svg>
                <span class="hidden md:inline">Buscar</span>
            </a>

            <a routerLink="/playlists" routerLinkActive="bg-zinc-800 text-white shadow-sm"
                class="text-zinc-400 hover:text-white px-3 md:px-4 py-2 rounded-full font-medium transition-all text-xs md:text-sm flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V3.375c0-1.036-.84-1.875-1.875-1.875H5.625ZM12.75 8a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V14a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V8Z"
                        fill-rule="evenodd" clip-rule="evenodd" opacity="0" />
                    <path
                        d="M3 4.25a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v15.5a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75V4.25Zm4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v15.5a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75V4.25Zm4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v15.5a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75V4.25Zm4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v15.5a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75V4.25Zm4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v15.5a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75V4.25Z" />
                </svg>
                <span class="hidden md:inline">Biblioteca</span>
            </a>
        </nav>

        <div class="flex items-center gap-2 md:gap-4 shrink-0">
            <a routerLink="/create-playlist"
                class="flex items-center gap-2 text-black bg-white hover:bg-zinc-200 px-3 py-2 md:px-4 md:py-2 rounded-full font-bold transition-all text-sm hover:scale-105 active:scale-95"
                title="Crear Playlist">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
                    <path fill-rule="evenodd"
                        d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"
                        clip-rule="evenodd" />
                </svg>
                <span class="hidden md:block">Crear Playlist</span>
            </a>

            <div class="h-6 w-px bg-zinc-800 mx-1 hidden md:block"></div>

            <div class="group relative flex items-center gap-3">
                <button
                    class="w-8 h-8 md:w-9 md:h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 text-white font-bold flex items-center justify-center text-sm shadow-inner cursor-pointer hover:ring-2 hover:ring-white transition-all"
                    (click)="logout()" title="Cerrar sesión">
                    {{ user.email ? user.email.charAt(0).toUpperCase() : 'U' }}
                </button>

                <span class="text-sm font-medium hidden lg:block text-zinc-300">{{ user.email }}</span>

                <button (click)="logout()"
                    class="text-zinc-500 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10"
                    title="Cerrar Sesión">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                        stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75" />
                    </svg>
                </button>
            </div>
        </div>
        } @else {
        <div class="flex items-center">
            <a routerLink="/login"
                class="text-black bg-white px-6 py-2.5 rounded-full font-bold hover:bg-zinc-200 transition-all text-sm hover:scale-105">Iniciar
                Sesión</a>
        </div>
        }
    </div>
</header>
<!-- Spacer to prevent content from hiding behind fixed header -->
<div class="h-20"></div>